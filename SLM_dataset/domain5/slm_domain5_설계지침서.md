# SLM 대표예시 설계 최종 지침서
## 도메인 5번: 폐쇄시간 무단 출입 감지

---

## 1. Input 작성 지침

### 1) 기본 원칙

- CCTV 번호, 센서 정보는 input에 포함하지 않음(영상 기반/AI 감지 기준)
- 실내·실외 모두 다양한 실제 건물/시설의 출입구/게이트/출입문 등 실제 장소+구체적 명칭을 적극 사용
- 감지 대상은 **사람(외부인, 시민, 학생, 작업자, 방문자, 청소업체, 배송기사 등), 차량(트럭, 승용차, 이륜차, 배송차량, 지게차 등)**만을 원칙으로 함
- 구조형:설명형 60:40, 정보 순서·표현·위치 최대한 다양화
- 객체(인원/차량)와 행위(출입 시도/침입/접근/체류/정차/대기 등)는 다양한 현실 사례를 반영해 분산
- input 콤마(,)는 반드시 기준 정보(예: 기준, 허용치, 기준 없음, 기준 미설정 등) 앞에만 한 번 사용

### 2) 필수 요소

- **시간:** 다양한 표현 형식 필수 사용 (예: 23:15, 오전 4시 20분, 새벽 3시 45분, 01:30, 22시 10분, 밤 11시경 등)
  - **중요:** 04:50 형식만 사용하지 말고 "오전 4시 50분", "새벽 4시 50분", "04:50" 등 다양한 시간 표현을 균형있게 분산
- **장소/출입구명 (장소+구역명 비율 60-70% 필수):**  
  - **장소+구역명 (60-70%)**: 창고 B동 정문, 학교 옥상 출입문, 병원 응급실 후문, 아파트 지하주차장 입구, 공장 A구역 게이트, 연구동 북문, 기숙사 동문, 오피스텔 옥상문, 창고 C동 출입구, 학교 본관 1층 게다, 공장 후문 계단 등
  - **단순 장소 (30-40%)**: 학교, 창고, 공장, 기숙사, 연구동 등
- **객체(사람/차량):**  
  - 외부인, 시민, 학생, 작업자, 방문자, 청소업체 직원, 배송기사, 차량 1대, 트럭, 승용차, 배송차량, 복수 인원 등
- **행위 유형:**  
  - 출입 시도, 침입, 접근, 체류, 진입, 정차, 대기, 머무름, 문 개방 등
- **지속시간:**  
  - 2초, 5초간, 3초, 6초간, 4초, 8초간 등 (N초:70%, N초간:30% 비율)
- **기준/허용치/미설정:**  
  - 기준 2초, 허용치 3초, 기준 없음, 기준 미설정, 허용치 없음 등

---

### 3) Input 예시 (정보 배열/콤마 위치 다양화)

#### [구조형 input]
- 새벽 3시 45분 트럭 1대 창고 B동 출입게이트 5초 진입, 기준 2초
- 기준 폐쇄시간 22시, 오후 10시 43분 작업자 2명 공장 A구역 정문 3초간 문 개방
- 허용치 없음, 외부인 1명 학교 후문 6초 출입 시도 오전 5시 18분
- 04:50 시민 1명 연구동 북문 4초 접근, 기준 2초
- 배송차량 1대 병원 응급실 후문에서 7초간 정차, 기준 정보 없음
- 22:15 방문자 2명 아파트 지하주차장 입구 5초 체류, 허용 기준 3초
- 기준 1초, 새벽 1시 30분 청소업체 직원 오피스텔 옥상문 8초간 접근

#### [설명형 input]
- 오전 4시 15분에 외부인 1명이 창고 정문으로 침입을 시도했습니다, 기준은 2초입니다
- 새벽 2시 40분 시민이 기숙사 후문에 접근했습니다, 기준 정보는 없습니다
- 23:10 트럭이 연구동 옆 출입게이트에 정차했고 머무름은 6초였습니다, 기준은 2초입니다
- 학생 1명이 05:15 옥상 출입문에 도달해 문 앞에서 3초 머물렀습니다, 기준은 1초였습니다
- 허용치 없음, 오전 4시 45분 외부인 1명이 A동 출입게이트에 접근했습니다
- 승용차 1대가 01:20 병원 주차장 게이트에서 9초간 대기했습니다, 기준 5초입니다

---

### 4) Input 정보 순서/배치 다양화 지침 (**핵심 요구사항**)
- **절대 금지:** 시간-장소-객체-행위-지속시간-기준치 순서로 일정하게 배치
- **Input 시작점 다양화 필수:**
  - 시간대부터 시작: "23:15에", "오전 4시에", "새벽 3시 45분" (약 40% 이상)
  - 객체부터 시작: "외부인 1명이", "트럭 1대가", "작업자 2명"
  - 행위부터 시작: "5초간 체류한", "6초 동안 접근한"
  - 장소부터 시작: "창고 B동에서", "병원 응급실 후문에서"
  - 기준부터 시작: "기준 2초", "허용치 없음"
- input의 시간, 장소, 객체, 행위, 지속, 기준치 정보 순서는 **예시마다 완전히 달라야 함**
- 구조형/설명형 모두 자연스럽고 중복 없는 흐름으로 작성
- **100개 예시 작성 시 최소 20가지 이상 완전히 다른 정보 배치 순서 사용 필수**

---

### 5) Input 콤마(,) 사용 지침

- input에서 콤마(,)는 반드시 "기준 정보" 앞에 한 번만 사용
- 그 외 정보에는 콤마 없이 띄어쓰기/자연어만 사용

---

## 2. Output 작성 지침

### 1) 기본 흐름 (**Input-Output 정보 일치 원칙**)

- **정확히 2~4문장으로 작성** (1문장이나 5문장 이상 금지)
- 상황·비교·판단·위험성·원인·조치·미래 예보·관찰 등 섞어서 안내
- **절대 원칙: 객체와 행위는 input 정보와 1:1 매칭, 누락·추가·과장 금지**
- **Input에 없는 정보는 절대 Output에 등장 불가** (예: Input에 "외부인 1명"인데 Output에 "불법 침입자", "의심스러운 인물" 등으로 변형 금지)
- 기준치/허용치 없는 경우 "즉시 경보/위험 안내 X, 관찰/모니터링/반복 시 조치" 중심

### 2) 전문적 대시보드형 안내문 작성 원칙 (**핵심 중요**)

- **운영자/관리자 대상의 전문적 정보 제공 톤앤매너 유지**
- **절대 금지 표현들:**
  - 감탄사: "어?", "주의!", "긴급!", "아!", "오!" 등
  - 어린이/친근한 말투: "~네요", "~해요", "~했어요", "~됐어요" 등
  - 과도한 감정 표현: "놀랍게도", "다행히도", "안타깝게도" 등
- **권장 표현:**
  - 전문적 설명문: "~습니다", "~됩니다", "~바랍니다"
  - 명령형: "~하세요", "~해주세요"
  - 보고체: "~것으로 확인됩니다", "~상황입니다"
  - 권고문: "~것이 필요합니다", "~것을 권장합니다"

### 3) 기준치/측정치/차이 표기 비율 지침 (**핵심 품질 기준**)

- **output에 기준치가 있을 때, 전체의 약 60~70%는 '측정치-기준치-차이'까지 모두 언급 필수**
  - 예: "기준 2초를 4초 초과한", "허용치 3초보다 2초 길게", "기준 5초를 1초 넘겨" 등
  - **절대 금지:** 기준치가 있는데 구체적 수치 비교 없이 모호하게 표현
- 나머지는 '측정치+기준치', '기준치+차이', '측정치+판단' 등으로 배분
- 다양한 스타일의 안내문(설명체, 명령문, 권고문, 보고체 등)이 골고루 나오도록 비율을 섞어서 작성

---

### 4) Output 자연스러운 예시 (패턴·시간·차이 등 다양화, 8개 이상)

- 새벽 3시 45분에 창고 B동 출입게이트에서 트럭 1대가 5초간 진입했습니다. 기준 2초보다 3초 더 길게 머문 상황이니, 보안팀에서는 즉시 점검에 나서주시기 바랍니다.
- 오늘 오후 10시 43분, 공장 A구역 정문에서는 작업자 2명이 3초간 문을 개방했습니다. 폐쇄 기준시간 22시를 넘겨 시간 외 접근이니 관리자는 신속히 현장을 확인하세요.
- 05:18에 학교 후문에서 외부인 1명이 6초간 출입을 시도했습니다. 허용치가 설정되지 않은 구간이라 이번에는 즉각적인 조치는 필요 없습니다. 다만 반복될 경우 경비실 점검을 준비해 주세요.
- 연구동 북문에 시민 1명이 04:50에 4초간 접근했습니다. 기준 2초를 2초 초과했으니 출입통제 시스템 점검이 필요합니다.
- 새벽 1시 30분에 오피스텔 옥상문에서 청소업체 직원이 8초간 접근했습니다. 측정치가 기준 1초를 7초 초과했으니, 관리사무소는 곧바로 상황을 확인해 주세요.
- 오전 4시 15분, 창고 정문에서는 외부인 1명이 침입을 시도했습니다. 기준 2초와 정확히 일치하는 접근 시간이니 정상 범위입니다만, 새벽 시간대 접근은 계속 모니터링하겠습니다.
- 01:20에 병원 주차장 게이트에서 승용차 1대가 9초간 대기했습니다. 기준이 없는 곳이니 일시적 대기만 관찰하세요. 동일한 상황이 반복되면 현장 점검을 해주세요.
- 22:15, 아파트 지하주차장 입구에서 방문자 2명이 5초간 체류했습니다. 허용 기준 3초를 2초 상회했으니 관리사무소에서 확인이 필요한 상황입니다.

---

### 5) Output 정보 순서/배치 다양화 (**핵심 요구사항**)

- **Output 시작점 다양화 필수:**
  - **장소부터 시작: 15% 이상 필수** - "창고 B동 출입게이트에", "병원 응급실 후문에서", "공장 A구역 정문에" 등
  - 시간대부터 시작: "23:15에", "오전 4시에", "새벽 3시 45분에" (약 25% 수준)
  - 측정치부터 시작: "6초간 체류한", "5초 동안 접근한" (약 20% 수준)
  - 객체부터 시작: "외부인이", "트럭이", "작업자가" (약 13% 수준)
  - 기준상태부터 시작: "기준 초과 상황입니다", "허용치 미설정 구간에서" (약 13% 수준)
  - 보고체부터 시작: "~상황이에요", "~필요합니다" (약 12% 수준)
- output 문장별로 시간, 장소, 객체, 행위, 지속, 기준, 조치, 위험/판단/미래예보 정보 위치가 예시마다 다르게 배열되어야 함
- **절대 금지:** 모든 output이 동일한 패턴(시간부터/측정치부터 등)으로 시작
- 같은 표현/구조/패턴 반복 금지  
- 설명체, 명령형, 권고문, 보고체 등 다양한 어투를 골고루 활용

### 6) 대화형 자연스러운 안내문 작성 원칙 (**신규 추가**)

- **운영자/관리자와의 자연스러운 대화형 안내문 작성**
- **다양한 문체 균형 사용:**
  - 정중한 존댓말: "~했습니다", "~됩니다", "~바랍니다" (약 40%)
  - 친근한 대화체: "~했어요", "~해주세요", "~필요해요" (약 40%)
  - 부드러운 안내: "~상황이에요", "~바라요", "~드립니다" (약 20%)
- **신뢰성 있는 표현 원칙:**
  - "~했어요" 사용 시 전문적이고 신뢰성 있는 맥락에서만 사용
  - 과도하게 친근하거나 어린이 같은 표현 금지
  - 상황의 심각성에 따라 적절한 문체 선택
- **절대 금지 표현들:**
  - 과도하게 딱딱한 보고서체: "~것으로 확인되었습니다", "~바랍니다" (과도한 반복)
  - 기계적 반복 표현: "~상황입니다" (10회 이상 반복), "~에서 확인되었으니" (과도한 사용)
  - 어린이 같은 친근함: "~했어요" + 지나치게 가벼운 톤, 과도한 감정 표현
- **중복 표현 방지 원칙:**
  - 동일한 문장 구조나 표현을 3회 이상 반복 금지
  - 최소 10가지 이상의 서로 다른 문장 마무리 패턴 사용
  - 수치 비교 표현도 다양화: "초과", "넘김", "상회", "벗어남", "길어서", "더 오래" 등

---

## 3. 비율/분포/품질 기준

- 위험/이상/경고 안내: 70%
- 주의/예보: 20%
- 정상/관찰: 10%
- 구조형:설명형 input: 60:40
- 장소+구역명: 60~70%, 단순장소: 30~40%
- 사람/차량 단독 및 복수, 실내·실외, 다양한 시간/행위/지속/기준/문장수/비교 방식 분포
- 문장 구조, 정보 순서, 표현 방식, 조치 안내 모두 최대한 다양하게

---

## 4. 기타 주의사항

- **input과 output 정보는 반드시 1:1로 정확히 매칭(누락/추가/과장/임의변형 금지)**
- **Input에 없는 정보는 절대 Output에 등장 불가**
- **감탄사, 어린이 말투 절대 사용 금지**
- **정확히 2~4문장 구조 준수**
- input 콤마(,) 사용 원칙 철저 준수(기준 정보 앞 1회)
- 반복/기계식/일관 패턴 금지, 현실 현장 흐름·문체·조치로 다양하게 작성
- 센서/AI/카메라 등 감지수단 명시 불필요
- output에서 단기 미래 예보만 허용(당일 내 시간대별 예측만 허용: "오늘 오후", "저녁시간", "새벽시간대" 등), 하루 이상 장기 예측 금지("내일", "향후", "앞으로" 등)

---

## 5. 품질 검증 체크리스트 (**작성 완료 후 필수 확인**)

### Input 품질 검증:
- [ ] 시간 표현이 다양한 형식으로 분산되어 있는가? (23:15, 오전 4시 20분, 새벽 3시 45분, 01:30 등)
- [ ] 시간대부터 시작하는 Input이 40% 이상인가?
- [ ] 정보 순서가 예시마다 완전히 다른가? (시간-장소-객체 순서 반복 금지)
- [ ] 콤마(,)가 기준 정보 앞에만 사용되었는가?
- [ ] 구조형:설명형 비율이 60:40인가?
- [ ] 지속시간 표현이 "N초"(70%), "N초간"(30%) 비율로 구성되었는가?
- [ ] 장소+구역명 비율이 60-70%인가? (창고 B동, 학교 옥상, 병원 응급실, 아파트 지하주차장 등)
- [ ] 단순 장소 비율이 30-40%인가? (학교, 창고, 공장, 기숙사 등)
- [ ] 객체 표현이 다양한가? (외부인, 시민, 학생, 작업자, 방문자, 청소업체 등)

### Output 품질 검증:
- [ ] **Input-Output 정보가 1:1 정확히 매칭되는가? (가장 중요)**
- [ ] **Input에 없는 정보가 Output에 추가되지 않았는가?**
- [ ] **정확히 2~4문장으로 작성되었는가?**
- [ ] **감탄사("어?", "주의!", "긴급!" 등)가 완전히 제거되었는가?**
- [ ] **어린이 말투("~네요", "~해요", "~했어요" 등)가 완전히 제거되었는가?**
- [ ] 시작점이 다양한가? (시간대부터 시작 40% 이상, 나머지는 측정치/장소/기준상태부터)
- [ ] 기준치가 있을 때 구체적 수치 비교가 60-70%에서 포함되었는가?
- [ ] 기계적/반복적 표현이 제거되고 다양한 문체가 사용되었는가?
- [ ] 장기적 미래 예측("향후", "앞으로" 등) 표현이 제거되었는가?
- [ ] 수치 표현 어휘가 8가지 이상 다양하게 사용되었는가? (초과, 넘김, 상회, 벗어남 등)
- [ ] 전문적이고 신뢰성 있는 대시보드형 운영자 안내 톤앤매너가 유지되었는가?

### 전체 데이터셋 검증:
- [ ] **헤더를 제외한 실제 대표예시 개수가 정확한가?** (CSV 파일의 헤더 1줄 제외하고 계산)
- [ ] **장소부터 시작하는 Output이 15% 이상인가?** (예: "창고 B동에서", "병원 응급실 후문에" 등)
- [ ] **대화형 자연스러운 안내문 톤앤매너가 유지되었는가?** ("~했네요", "~해주세요", "부탁드립니다" 등)
- [ ] **중복 표현이 3회 이상 반복되지 않았는가?** (동일한 문장 구조나 표현 체크)
- [ ] **최소 10가지 이상의 서로 다른 문장 마무리 패턴이 사용되었는가?**
- [ ] 위험/이상/경고 70%, 주의/예보 20%, 정상/관찰 10% 비율 준수
- [ ] 모든 예시가 서로 다른 패턴과 구조를 가지고 있는가?
- [ ] 전문적이고 신뢰성 있는 대시보드형 정보 제공 톤앤매너 유지
- [ ] 전체 100개 예시에서 중복되는 상황이나 표현이 없는가?
- [ ] 실제 CCTV 상황과 부합하는 현실적인 시나리오인가?
- [ ] SLM 모델이 학습하기 적합한 일관성 있는 패턴인가?

---

## 6. CSV 포맷 예시

```csv
Input,Output,Domain
"새벽 3시 45분 트럭 1대 창고 B동 출입게이트 5초 진입, 기준 2초","새벽 3시 45분에 창고 B동 출입게이트에서 트럭 1대가 5초간 진입했습니다. 기준 2초를 3초 초과한 상황이니, 보안팀에서는 즉시 점검에 나서주시기 바랍니다.","폐쇄시간 무단 출입 감지"
"기준 없음, 01:20 승용차 1대 병원 주차장 게이트 9초간 대기","01:20에 병원 주차장 게이트에서 승용차 1대가 9초간 대기했습니다. 기준이 없는 곳이니 일시적 대기만 관찰하세요. 동일한 상황이 반복되면 현장 점검을 해주세요.","폐쇄시간 무단 출입 감지"
```
